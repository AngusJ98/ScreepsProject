{"code":"import { minBy } from \"Rando_Functions\";\r\nexport function test4() {\r\n}\r\nRoomPosition.prototype.getAdjacentPositions = function (range = 1, filterStructures = false) {\r\n    let roomName = this.roomName;\r\n    let terrain = Game.map.getRoomTerrain(roomName);\r\n    let offsets = [];\r\n    for (let x = -range; x <= range; x++) {\r\n        for (let y = -range; y <= range; y++) {\r\n            if (x === 0 && y === 0 || Math.abs(x) + Math.abs(y) < range)\r\n                continue; // Don't include the 0,0 point\r\n            offsets.push({ x, y });\r\n        }\r\n    }\r\n    let positions = _.map(offsets, r => new RoomPosition(this.x + r.x, this.y + r.y, this.roomName));\r\n    _.remove(positions, r => !([0, 2].includes(terrain.get(r.x, r.y))));\r\n    if (filterStructures) {\r\n        let clearPos = [];\r\n        for (let pos of positions) {\r\n            if (pos.lookFor(LOOK_STRUCTURES).length == 0 || !(_.some(OBSTACLE_OBJECT_TYPES, pos.lookFor(LOOK_STRUCTURES)))) {\r\n                clearPos.push(pos);\r\n            }\r\n        }\r\n        return clearPos;\r\n    }\r\n    else {\r\n        return positions;\r\n    }\r\n};\r\nRoomPosition.prototype.getMultiRoomRangeTo = function (pos) {\r\n    if (this.roomName == pos.roomName) {\r\n        return this.getRangeTo(pos);\r\n    }\r\n    else {\r\n        const from = this.roomCoords;\r\n        const to = pos.roomCoords;\r\n        const dx = Math.abs(50 * (to.x - from.x) + pos.x - this.x);\r\n        const dy = Math.abs(50 * (to.y - from.y) + pos.y - this.y);\r\n        return _.max([dx, dy]);\r\n    }\r\n};\r\nObject.defineProperty(RoomPosition.prototype, 'roomCoords', {\r\n    get: function () {\r\n        const parsed = /^[WE]([0-9]+)[NS]([0-9]+)$/.exec(this.roomName);\r\n        let x = parseInt(parsed[1], 10);\r\n        let y = parseInt(parsed[2], 10);\r\n        if (this.roomName.includes('W'))\r\n            x = -x;\r\n        if (this.roomName.includes('N'))\r\n            y = -y;\r\n        return { x: x, y: y };\r\n    },\r\n    configurable: true,\r\n});\r\nRoomPosition.prototype.findClosestByMultiRoomRange = function (objects) {\r\n    return minBy(objects, (obj) => this.getMultiRoomRangeTo(obj.pos));\r\n};\r\n//# sourceMappingURL=RoomPosition.js.map","references":["C:/Users/ADMIN BOI/Documents/GitHub/ScreepsProject/src/Rando_Functions.ts"],"map":"{\"version\":3,\"file\":\"RoomPosition.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/RoomPosition.ts\"],\"names\":[],\"mappings\":\"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\"}"}
