{"code":"export class Mission {\r\n    constructor(flag, empire) {\r\n        this.memory = flag.memory;\r\n        this.flag = flag;\r\n        this.name = flag.name;\r\n        this.empire = empire;\r\n        this.pos = flag.pos;\r\n        this.room = flag.room;\r\n        if (!this.memory.roomName) {\r\n            this.memory.roomName = this.room.name;\r\n        }\r\n        this.capital = this.getCapital();\r\n        //this.capital?.missions.push(this);\r\n    }\r\n    getCapital(filter) {\r\n        if (this.memory.capital) {\r\n            return this.empire.capitals[this.memory.capital];\r\n        }\r\n        else {\r\n            let nearestCapital = this.findClosestCapital(filter);\r\n            this.memory.capital = nearestCapital ? nearestCapital.name : undefined;\r\n            return nearestCapital;\r\n        }\r\n    }\r\n    findClosestCapital(filter) {\r\n        let nearestCapital;\r\n        let minDistance = Infinity;\r\n        for (let name in this.empire.capitals) {\r\n            let capital = this.empire.capitals[name];\r\n            if (!filter || filter(capital)) {\r\n                let length = PathFinder.search(this.pos, capital.pos).path.length;\r\n                if (length < minDistance) {\r\n                    minDistance = length;\r\n                    nearestCapital = capital;\r\n                }\r\n            }\r\n        }\r\n        return nearestCapital;\r\n    }\r\n}\r\n//# sourceMappingURL=Mission.js.map","references":["C:/Users/ADMIN BOI/Documents/GitHub/ScreepsProject/src/Empire.ts","C:/Users/ADMIN BOI/Documents/GitHub/ScreepsProject/src/Manager.ts","C:/Users/ADMIN BOI/Documents/GitHub/ScreepsProject/src/Room/Capital.ts"],"map":"{\"version\":3,\"file\":\"Mission.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/Missions/Mission.ts\"],\"names\":[],\"mappings\":\"AAYA,MAAM,OAAgB,OAAO;IAUzB,YAAY,IAAU,EAAE,MAAc;QAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAoB,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;QAChB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAK,CAAC;QACvB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;YACvB,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAA;SACxC;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACjC,oCAAoC;IACxC,CAAC;IAED,UAAU,CAAC,MAAsC;QAC7C,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACrB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;SACnD;aAAM;YACH,IAAI,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAA;YACpD,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,cAAc,CAAA,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAA;YACrE,OAAO,cAAc,CAAA;SACxB;IACL,CAAC;IAED,kBAAkB,CAAC,MAAsC;QACrD,IAAI,cAAmC,CAAC;QAC9C,IAAI,WAAW,GAAG,QAAQ,CAAC;QACrB,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;YACnC,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;YACxC,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,EAAE;gBAC5B,IAAI,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAA;gBACjE,IAAI,MAAM,GAAG,WAAW,EAAE;oBACtB,WAAW,GAAG,MAAM,CAAA;oBACpB,cAAc,GAAG,OAAO,CAAA;iBAC3B;aACJ;SACJ;QACD,OAAO,cAAc,CAAA;IACzB,CAAC;CAIJ\"}"}
