{"code":"import { Roles, Setups } from \"Creep_Setups/Setups\";\r\nimport { Manager } from \"Manager\";\r\nimport { ManagerPriority } from \"./ManagerPriority\";\r\nexport class ReserveManager extends Manager {\r\n    constructor(reserveSite, prio = ManagerPriority.Outpost.reserve) {\r\n        super(reserveSite, \"ReserveManager_\" + reserveSite.controller.id, prio);\r\n        this.controller = reserveSite.controller;\r\n        this.reservers = this.creepsByRole[Roles.settler];\r\n        this.reserveSite = reserveSite;\r\n        this.room = reserveSite.room;\r\n    }\r\n    handleReserver(reserver) {\r\n        reserver.goReserve(this.controller);\r\n    }\r\n    init() {\r\n        var _a;\r\n        if (this.room && this.room.hostiles.length == 0) {\r\n            let setup = this.controller.reservation && ((_a = this.controller.reservation) === null || _a === void 0 ? void 0 : _a.ticksToEnd) > 4500 ? Setups.colonisers.settler : Setups.colonisers.reserve;\r\n            this.spawnList(1, setup);\r\n        }\r\n    }\r\n    run() {\r\n        _.forEach(this.reservers, r => this.handleReserver(r));\r\n    }\r\n}\r\n//# sourceMappingURL=ReserveManager.js.map","references":["C:/Users/zangu/OneDrive/Documents/GitHub/ScreepsProject/src/Buildings/ReserveSite.ts","C:/Users/zangu/OneDrive/Documents/GitHub/ScreepsProject/src/Creep_Setups/Setups.ts","C:/Users/zangu/OneDrive/Documents/GitHub/ScreepsProject/src/Manager.ts","C:/Users/zangu/OneDrive/Documents/GitHub/ScreepsProject/src/Managers/ManagerPriority.ts"],"map":"{\"version\":3,\"file\":\"ReserveManager.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/Managers/ReserveManager.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,qBAAqB,CAAC;AACpD,OAAO,EAAE,OAAO,EAAE,MAAM,SAAS,CAAC;AAClC,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AAEpD,MAAM,OAAO,cAAe,SAAQ,OAAO;IAMvC,YAAa,WAAwB,EAAE,IAAI,GAAG,eAAe,CAAC,OAAO,CAAC,OAAO;QACzE,KAAK,CAAC,WAAW,EAAE,iBAAiB,GAAG,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACxE,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC,UAAU,CAAC;QACzC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;QACjD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAA;QAC9B,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC,IAAI,CAAA;IAChC,CAAC;IAEO,cAAc,CAAC,QAAe;QAClC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;IACvC,CAAC;IAED,IAAI;;QACA,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;YAC7C,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,IAAI,OAAA,IAAI,CAAC,UAAU,CAAC,WAAW,0CAAE,UAAU,IAAG,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAA;YACjJ,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,CAAA;SAC3B;IACL,CAAC;IAED,GAAG;QACC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC;CACJ\"}"}
