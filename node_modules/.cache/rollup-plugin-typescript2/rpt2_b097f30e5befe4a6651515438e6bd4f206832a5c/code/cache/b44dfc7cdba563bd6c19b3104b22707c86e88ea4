{"code":"import { Roles, Setups } from \"Creep_Setups/Setups\";\r\nimport { Manager } from \"Manager\";\r\nimport { ManagerPriority } from \"Managers/ManagerPriority\";\r\nexport class SettleManager extends Manager {\r\n    constructor(mission, prio = ManagerPriority.Colonization.claim) {\r\n        super(mission.capital, \"SettleManager_\" + mission.name, prio);\r\n        this.mission = mission;\r\n        this.room = this.mission.room;\r\n        this.controller = this.room ? this.room.controller : undefined;\r\n        this.claimers = this.creepsByRole[Roles.settler];\r\n    }\r\n    handleClaimer(claimer) {\r\n        console.log(\"Settle running\");\r\n        if (this.controller && claimer.room == this.controller.room) {\r\n            claimer.goClaim(this.controller);\r\n            claimer.say(\"CLAIMING\");\r\n        }\r\n        else if (this.controller && this.controller.owner) {\r\n            claimer.goAttackController(this.controller);\r\n        }\r\n        else {\r\n            claimer.say(\"Moving\");\r\n            claimer.travelTo(this.mission.pos, { allowHostile: true, allowSK: true, maxRooms: 500, ensurePath: true });\r\n        }\r\n    }\r\n    init() {\r\n        if (this.controller && this.controller.my) {\r\n            console.log(\"removing settler flag\");\r\n            this.mission.flag.secondaryColor = COLOR_RED;\r\n        }\r\n        else {\r\n            this.spawnList(1, Setups.colonisers.settler);\r\n        }\r\n    }\r\n    run() {\r\n        _.forEach(this.claimers, r => this.handleClaimer(r));\r\n    }\r\n}\r\n//# sourceMappingURL=SettleManager.js.map","references":["C:/Users/ADMIN BOI/Documents/GitHub/ScreepsProject/src/Creep_Setups/Setups.ts","C:/Users/ADMIN BOI/Documents/GitHub/ScreepsProject/src/Manager.ts","C:/Users/ADMIN BOI/Documents/GitHub/ScreepsProject/src/Managers/ManagerPriority.ts","C:/Users/ADMIN BOI/Documents/GitHub/ScreepsProject/src/Missions/Mission.ts","C:/Users/ADMIN BOI/Documents/GitHub/ScreepsProject/src/Missions/SettleMission.ts"],"map":"{\"version\":3,\"file\":\"SettleManager.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/Missions/SettleManager.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,qBAAqB,CAAC;AACpD,OAAO,EAAE,OAAO,EAAE,MAAM,SAAS,CAAC;AAClC,OAAO,EAAE,eAAe,EAAE,MAAM,0BAA0B,CAAC;AAK3D,MAAM,OAAO,aAAc,SAAQ,OAAO;IAItC,YAAY,OAAsB,EAAE,IAAI,GAAG,eAAe,CAAC,YAAY,CAAC,KAAK;QACzE,KAAK,CAAC,OAAO,CAAC,OAAQ,EAAE,gBAAgB,GAAG,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;QAC9D,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAA;QAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAA,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAA;QAC7D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;IACpD,CAAC;IAEO,aAAa,CAAC,OAAc;QAChC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAA;QAC7B,IAAI,IAAI,CAAC,UAAU,IAAI,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE;YACzD,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAW,CAAC,CAAA;YACjC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAA;SAC1B;aAAM,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YACjD,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;SAC9C;aAAM;YACH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;YACrB,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAC,YAAY,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAA;SAC3G;IACL,CAAC;IAGD,IAAI;QAEA,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE;YACvC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAA;YACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAA;SAC/C;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAA;SAC/C;IACL,CAAC;IAED,GAAG;QACC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAA;IACxD,CAAC;CACJ\"}"}
